(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"/tWa":function(e,t,n){"use strict";var a=n("KI45");n("hfKm")(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("/HRN")),u=a(n("WaGi")),i=n("T89o"),l=a(n("Bk/R")),o=/https?:\/\//,c=/\/$/,s=/\/(\w{2}[-|_]\w{2}|\w{2}\/?)$/,f=/\/(\w{2}[-|_]\w{2}|\w{2})\/([\w\d_\-.]+)(\/.*)?/,d=/(www\.ferrari\.com)\/([\w\d_-]+)(\/.*)?/,p=function(){function e(){(0,r.default)(this,e)}return(0,u.default)(e,null,[{key:"stripProtocol",value:function(e){return e.replace(o,"").replace(c,"")}},{key:"stripLocale",value:function(t){var n=e.stripProtocol(t);return f.test(n)?n.replace(f,"/$2$3").replace(c,""):s.test(n)?n.replace(s,"/").replace(c,""):n}},{key:"getApplication",value:function(t){var n=e.stripLocale(t);return d.test(n)?n.replace(d,"$1/$2").replace(c,""):n}},{key:"getStripHost",value:function(t){var n=l.default.host(t);return e.stripProtocol(n)}},{key:"getLinkValue",value:function(e,t){return(0,i.get)(e,t,"-1")}},{key:"getLinkUrl",value:function(t,n){var a=e.getLinkValue(t,n);return e.stripLocale(a)}},{key:"urlContainsOrigin",value:function(e,t){return!(!e||!t||"-1"===e)&&(e===t||-1!==t.indexOf(e))}},{key:"findTree",value:function(t,n){var a=e.stripLocale(n),r=e.getApplication(n),u="";return t.some((function(t,n){return(0,i.get)(t,"menuItems",[]).some((function(t,r){var l=e.getLinkUrl(t,"content.link.url");return"list-of-links"===t.template?(0,i.get)(t,"content.menuItems",[]).forEach((function(t,i){var l=e.getLinkUrl(t,"link.url");return!!e.urlContainsOrigin(l,a)&&(u="".concat(n,"-").concat(r,"-").concat(i),!0)})):!!e.urlContainsOrigin(l,a)&&(u="".concat(n,"-").concat(r),!0)}))})),""===u&&t.some((function(t,n){return(0,i.get)(t,"menuItems",[]).some((function(t,a){var l=e.getLinkUrl(t,"content.link.url"),o=e.getApplication(l);return"list-of-links"===t.template?(0,i.get)(t,"content.menuItems",[]).forEach((function(t,a){var i=e.getLinkUrl(t,"link.url"),l=e.getApplication(i);return!!e.urlContainsOrigin(l,r)&&(u="".concat(n),!0)})):!!e.urlContainsOrigin(o,r)&&(u="".concat(n),!0)}))})),""===u&&t.some((function(t,a){var i=e.stripLocale(n),l=e.getLinkUrl(t,"link.url"),o=e.getApplication(l);return!(!e.urlContainsOrigin(l,i)&&!e.urlContainsOrigin(o,r))&&(u="".concat(a),!0)})),""===u&&t.some((function(t,a){var r=e.getStripHost(n);return e.getStripHost(e.getLinkValue(t,"link.url"))===r&&(u="".concat(a),!0)})),u}}]),e}();t.default=p},H0SL:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("cMU6")}])},cMU6:function(e,t,n){"use strict";var a=n("KI45"),r=n("5Uuq");n("hfKm")(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n("q1tI")),i=a(n("pbKT")),l=a(n("eVuF")),o=a(n("ln6h")),c=a(n("/HRN")),s=a(n("K47E")),f=a(n("WaGi")),d=a(n("ZDA2")),p=a(n("/+P4")),h=a(n("N9n2")),v=a(n("xHqa")),g=n("eHHv"),m=n("ANjH"),k=a(n("SbWC")),w=a(n("8Kt/")),y=n("19JU"),S=a(n("kQFM")),L=a(n("qyhG")),C=a(n("9qRu")),H=n("0vEF"),O=n("gGHL"),b=n("mJQZ"),E=n("sk4W"),N=n("LXYO"),_=a(n("/tWa")),P=a(n("s+xg")),A=a(n("Nnea")),T=a(n("WZaA")),U=a(n("NZQk")),D=a(n("NXes")),q=a(n("hzb8")),M=a(n("SHU5")),I=r(n("8ANe")),W=a(n("t3G4")),F=r(n("sd54")),K=n("T89o"),G=u.default.createElement;function x(){if("undefined"===typeof Reflect||!i.default)return!1;if(i.default.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call((0,i.default)(Date,[],(function(){}))),!0}catch(e){return!1}}var V=function(e){(0,h.default)(a,e);var t,n=(t=a,function(){var e,n=(0,p.default)(t);if(x()){var a=(0,p.default)(this).constructor;e=(0,i.default)(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(e){var t;return(0,c.default)(this,a),t=n.call(this,e),(0,v.default)((0,s.default)(t),"scenes",[]),(0,v.default)((0,s.default)(t),"chapterWrappers",[]),t.state={activeOrigin:null},t}return(0,f.default)(a,null,[{key:"changeCountrySlug",value:function(){var e=y.window.location.pathname||"";return"/"!==e&&(e=(e=e.replace(/\/?([a-z]{2}-[A-Z]{2})?(.*)/,"$2")).replace("/","")),e}},{key:"shareSectionFullUrl",value:function(e){var t=String(y.window.location.pathname).split("/share")[0];return"".concat(t,"/share/").concat(e)}}]),(0,f.default)(a,[{key:"componentDidMount",value:function(){var e=this;return o.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){e.hideSplash()}),1e3),this.setActiveOrigin();case 2:case"end":return t.stop()}}),null,this,null,l.default)}},{key:"componentWillUnmount",value:function(){this.chapterController&&this.chapterController.destroy(!0),window.removeEventListener("resize",this.setScenesDuration)}},{key:"setActiveOrigin",value:function(){this.setState({activeOrigin:_.default.findTree(this.props.menuPillars,window.location.href)})}},{key:"hideSplash",value:function(){this.props.setSplash(!1)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.metadata,r=e.pageData,u=this.state.activeOrigin,i={};i=W.default.setOrganismsMultiNaming(i,I),i=W.default.setEditorialNaming(i,I.Editorial);var l=(0,K.get)(r,"commonProperties.internalNavigation","default"),o=W.default.pageTemplate(l,F);return G("div",null,G(w.default,null,t,n),G(D.default,null),G(q.default,{autoVisibility:!0}),G(M.default,null),G(o,{pageData:r,blockTypes:i,dispatch:this.props.dispatch,menu:{logoSeoTag:"h1",interalMenu:!0,activeOrigin:u},carHeader:!1,footer:{referrer:a.changeCountrySlug()}}))}}]),a}(u.Component);(0,v.default)(V,"getInitialProps",(function(e){var t,n,a,r,u,i;return o.default.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.req,t=e.query,n=e.isServer,a=e.store,r=t.locale,u={},i=[],n&&(i.push(L.default.superheader(r).then((function(e){return e.data.results})).then((function(e){var t=e.content;a.dispatch((0,O.setPillars)(t.pillars))})).catch((function(e){return(0,C.default)(e)}))),i.push(L.default.superfooter(r).then((function(e){return e.data.results})).then((function(e){var t=e.content;a.dispatch((0,b.setFooterData)(t))})).catch((function(e){return(0,C.default)(e)})))),i.push(L.default.page(r,t.name,t.parent?"".concat(t.parent,"/").concat(t.name):t.name,t.accessCode,t.previewSlug).then((function(e){var t=e.data;u=t.results,a.dispatch((0,N.setChannelVariables)((0,K.get)(u,"variables",[])))})).catch((function(e){return(0,C.default)(e)}))),c.next=8,o.default.awrap(l.default.all(i));case 8:return a.dispatch((0,H.setSplash)(n)),a.dispatch((0,E.setEnquireData)(u.enquireForm)),c.abrupt("return",{locale:r,pageData:u,openEnquireForm:"open"===t.enquire});case 11:case"end":return c.stop()}}),null,null,null,l.default)}));var $=(0,g.compose)((0,k.default)(S.default,(function(e){return{breakpoint:e.breakpoint,menuPillars:e.menu.pillars,hiddenHeader:e.menu.hidden}}),(function(e){return(0,m.bindActionCreators)({setSplash:H.setSplash},e)})),T.default,U.default,P.default,A.default)(V);t.default=$},t3G4:function(e,t,n){"use strict";var a=n("KI45");n("hfKm")(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("8+Nu")),u=a(n("LR/J")),i=n("T89o"),l={setOrganismsMultiNaming:function(e,t){return(0,u.default)(t).forEach((function(t){var n=(0,r.default)(t,2),a=n[0],u=n[1];e[a]=u,e[(0,i.camelCase)(a)]=u,e[(0,i.kebabCase)(a)]=u})),e},setEditorialNaming:function(e,t){return["Media","Audio","Gallery","Groups","Image","Video","Data"].forEach((function(n){e["Editorial".concat(n)]=t})),e},pageTemplate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"WithSidebar":return t.ContactPage;case"HiddenFooter":return t.HiddenFooterPage;default:return t.DefaultPage}}};t.default=l}},[["H0SL",1,2,5,6,7,9,4,8,3,0,10,11,12]]]);